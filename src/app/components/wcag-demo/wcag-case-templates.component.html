<!-- This component exists only to declare & register WCAG example templates. -->

<!-- 1.1.1 Contenido no textual -->
<ng-template wcagCaseTemplate="wcag-1-1-1/inaccessible">
  <div class="wcag-example case-wcag-1-1-1">
    <img
      src="https://images.pexels.com/photos/31299766/pexels-photo-31299766.jpeg"
      width="320"
      height="213"
      loading="lazy"
    />
    <p class="wcag-example-note">Problema: No existe manera de conocer el contenido de la imagen sin verla.</p>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-1-1/accessible">
  <div class="wcag-example case-wcag-1-1-1">
    <img
      src="https://images.pexels.com/photos/31299766/pexels-photo-31299766.jpeg"
      alt="Flor amarilla con p√©talos grandes y redondeados, sobre fondo verde desenfocado."
      width="320"
      height="213"
      loading="lazy"
    />
    <p class="wcag-example-note">Usar <strong>alt</strong>: permite describir la imagen.</p>
  </div>
</ng-template>

<!-- 1.3.1 Informaci√≥n y relaciones -->
<ng-template wcagCaseTemplate="wcag-1-3-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-1-3-1">
    <div class="wcag-field">
      <div class="wcag-fake-label">Nombre</div>
      <input type="text" [attr.id]="idPrefix + '-name'" placeholder="Ej: Ana" />
    </div>

    <div class="wcag-field">
      <div class="wcag-fake-label">Correo</div>
      <input type="email" [attr.id]="idPrefix + '-email'" placeholder="usuario@ejemplo.com" />
    </div>

    <div class="wcag-subexample">
      <button type="button" class="wcag-primary" (click)="togglePanel(idPrefix + '-details-panel')">Mostrar detalles</button>
      <div class="wcag-panel" [attr.id]="idPrefix + '-details-panel'" [hidden]="!isPanelOpen(idPrefix + '-details-panel')">
        <p class="wcag-panel-title"><strong>Detalles del env√≠o</strong></p>
      </div>
        <div class="wcag-example-note">
         Problema: tecnologias acertivas no pueden relacionar controles con su contenido.
      </div>
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-3-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-1-3-1">
    <div class="wcag-field">
      <label class="wcag-label" [attr.for]="idPrefix + '-name'">Nombre</label>
      <input type="text" [attr.id]="idPrefix + '-name'" autocomplete="name" placeholder="Ej: Ana" />
    </div>

    <div class="wcag-field">
      <label class="wcag-label">
        Correo
        <input type="email" autocomplete="email" placeholder="usuario@ejemplo.com" />
      </label>
    </div>

    <div class="wcag-subexample">
      <button
        type="button"
        class="wcag-primary"
        [attr.id]="idPrefix + '-details-toggle'"
        [attr.aria-controls]="idPrefix + '-details-panel'"
        [attr.aria-expanded]="isPanelOpen(idPrefix + '-details-panel')"
        (click)="togglePanel(idPrefix + '-details-panel')"
      >
        Mostrar detalles
      </button>
      <div
        class="wcag-panel"
        [attr.id]="idPrefix + '-details-panel'"
        role="region"
        [attr.aria-labelledby]="idPrefix + '-details-toggle'"
        [hidden]="!isPanelOpen(idPrefix + '-details-panel')"
      >
        <p class="wcag-panel-title"><strong>Detalles del env√≠o</strong></p>
      </div>
        <div class="wcag-example-note">
            <p>
                Los labels  utilizan <strong>for/id</strong> para vincular etiqueta y control. Tambien es valido anidar el input dentro del label.   
            </p>
            <p>
                Con <strong>aria-controls</strong> se comunica que regi√≥n controla el boton, y con
                <strong>aria-expanded</strong> comunica el estado.
            </p>
      </div>
    </div>
  </div>
</ng-template>

<!-- 1.3.2 Secuencia significativa -->
<ng-template wcagCaseTemplate="wcag-1-3-2/inaccessible">
  <div class="wcag-example case-wcag-1-3-2-inacc">
    <!-- DOM: primero MAIN y luego ASIDE, pero visualmente se invierte con CSS order -->
    <div class="layout">
      <section class="box main">
        <strong>Contenido principal</strong>
      </section>
      <aside class="box sidebar">
        <strong>Columna lateral</strong>
      </aside>
    </div>
    <div class="wcag-example-note">
         Problema: el orden visual no coincide con el orden del HTML usuarios que no pueden ver interpretan que las columnas estan invertidas.
      </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-3-2/accessible">
  <div class="wcag-example case-wcag-1-3-2-acc">
    <!-- DOM y visual: ASIDE primero y luego MAIN (mismo orden) -->
    <div class="layout">
      <aside class="box sidebar">
        <strong>Columna lateral</strong>
      </aside>
      <section class="box main">
        <strong>Contenido principal</strong>
      </section>
    </div>
    <div class="wcag-example-note">
        Columna lateral se visualiza primero y luego el contenido principal, coincidiendo con el orden del HTML.
      </div>  
    </div>
</ng-template>

<!-- 1.4.3 Contraste m√≠nimo -->
<ng-template wcagCaseTemplate="wcag-1-4-3/inaccessible">
  <div class="wcag-example case-wcag-1-4-3-inacc">
    <div class="card">
      <h3 class="title">Confirmaci√≥n de compra</h3>
      <p class="body">Tu pedido ha sido procesado. Revisa el n√∫mero de orden en tu email.</p>
    </div>
    <div class="wcag-example-note">
         Problema: usuarios con discapacidad visual pueden tener dificultades para distinguir el texto debido al bajo contraste.
      </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-3/accessible">
  <div class="wcag-example case-wcag-1-4-3-acc">
    <div class="card">
      <h3 class="title">Confirmaci√≥n de compra</h3>
      <p class="body">Tu pedido ha sido procesado. Revisa el n√∫mero de orden en tu email.</p>
    </div>
  </div>
</ng-template>

<!-- 1.4.4 Redimensionamiento de texto -->
<ng-template wcagCaseTemplate="wcag-1-4-4/inaccessible">
  <div class="wcag-example case-wcag-1-4-4-inacc">
    <div class="box small">
      Texto descriptivo a modo de prueba del conteido visual.
    Este texto est√° dentro de un contenedor con altura fija y overflow hidden.
      Al aumentar zoom/tama√±o de fuente se recorta y/o se presenta dificultades de lectura.
    </div>
    <div class="wcag-example-note">
         Problema: al aumentar tama√±o del texo, este se recorta y/o se presenta dificultades de lectura.
      </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-4/accessible">
  <div class="wcag-example case-wcag-1-4-4-acc">
    <div class="box base">
        Texto descriptivo a modo de prueba del conteido visual.
      Este contenido usa unidades relativas y no depende de alturas fijas.
      Haciendo zoom a la pagina o al contenido el texto sigue siendo visible.
    </div>
  </div>
</ng-template>

<!-- 2.1.1 Teclado -->
<ng-template wcagCaseTemplate="wcag-2-1-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-1-1-inacc">
    <div
      class="fake-click wcag-action--small"
      role="button"
      tabindex="0"
      (click)="showClickedNote(idPrefix + '-wcag-2-1-1-inacc')"
    >
      Activar
    </div>

    <div
      class="wcag-click-note"
      role="status"
      aria-live="polite"
      *ngIf="isClickedNoteVisible(idPrefix + '-wcag-2-1-1-inacc')"
    >
      clicked
    </div>
    <div class="wcag-example-note">
      Problema: aunque recibe foco (tabindex), solo responde al mouse porque no maneja Enter/Espacio.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-1-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-1-1-acc">
    <button type="button" (click)="showClickedNote(idPrefix + '-wcag-2-1-1-acc')">Activar (button)</button>

    <div
      class="fake-button"
      role="button"
      tabindex="0"
      [attr.aria-label]="'Bot√≥n simulado ' + idPrefix"
      (click)="showClickedNote(idPrefix + '-wcag-2-1-1-acc')"
      (keydown)="onButtonLikeKeydown($event, idPrefix + '-wcag-2-1-1-acc')"
    >
      Activar (div)
    </div>

    <div
      class="wcag-click-note"
      role="status"
      aria-live="polite"
      *ngIf="isClickedNoteVisible(idPrefix + '-wcag-2-1-1-acc')"
    >
      clicked
    </div>
    <div class="wcag-example-note">
        El div simula un bot√≥n usando <strong>role="button"</strong>, maneja eventos de teclado <strong>(keydown)</strong> para Enter y Espacio.
    </div>  
</div>
</ng-template>

<!-- 2.4.1 Saltar contenido -->
<ng-template wcagCaseTemplate="wcag-2-4-1/inaccessible">
  <div class="wcag-example case-wcag-2-4-1-inacc">
    <header>
      <nav aria-label="Men√∫">
        <a href="#">Enlace 1</a> ¬∑ <a href="#">Enlace 2</a> ¬∑ <a href="#">Enlace 3</a>
      </nav>
    </header>
    <main>
      <p>Contenido principal (sin enlace de salto).</p>
    </main>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-4-1-acc">
    <header>
      <a class="skip-link" [attr.href]="'#' + idPrefix + '-main-content'">Saltar al contenido principal</a>
      <nav aria-label="Men√∫">
        <a href="#">Enlace 1</a> ¬∑ <a href="#">Enlace 2</a> ¬∑ <a href="#">Enlace 3</a>
      </nav>
    </header>
    <main [attr.id]="idPrefix + '-main-content'">
      <p>Contenido principal.</p>
    </main>
  </div>
</ng-template>

<!-- 2.4.4 Prop√≥sito del enlace -->
<ng-template wcagCaseTemplate="wcag-2-4-4/inaccessible">
  <div class="wcag-example case-wcag-2-4-4-inacc">
    <a href="/articulos/accesibilidad">Haz click aqui!</a>
    <div class="wcag-example-note">
        Problema: el texto del enlace no describe claramente su prop√≥sito, lo que puede generar confusi√≥n sobre qu√© esperar al hacer clic.
    </div>   
 </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-4/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-4-4-acc">
    <span class="sr-only" [attr.id]="idPrefix + '-wcag-2-4-4-newtab'">Se abre en una nueva pesta√±a.</span>
    <a
      href="/articulos/accesibilidad"
      target="_blank"
      rel="noopener noreferrer"
      [attr.aria-describedby]="idPrefix + '-wcag-2-4-4-newtab'"
    >
      Leer m√°s sobre accesibilidad web
    </a>
    <div style="margin-top: 10px;">
      <a
        href="/articulos/accesibilidad"
        target="_blank"
        rel="noopener noreferrer"
        [attr.aria-describedby]="idPrefix + '-wcag-2-4-4-newtab'"
        aria-label="Leer m√°s: Gu√≠a completa de accesibilidad web"
      >
        Leer m√°s
      </a>
    </div>
    <div class="wcag-example-note">
        <ul>
            <li>El texto del enlace describe claramente su prop√≥sito. Alternativamente, se puede usar un texto m√°s breve acompa√±ado de un <strong>aria-label</strong> que proporcione contexto adicional.</li>
            <li>Mediante <strong>aria-describedby</strong> se podr√≠a asociar el enlace con una descripci√≥n m√°s detallada ubicada cerca del enlace, proporcionando informaci√≥n adicional sin sobrecargar el texto del enlace.</li>
            <li>Cuando un elnace lleva <strong>target="_blank"</strong> es recomendable informar al usuario que el enlace se abrir√° en una nueva pesta√±a/ventana.</li>
        </ul>
    </div> 
  </div>
</ng-template>

<!-- 2.4.6 Encabezados y etiquetas -->
<ng-template wcagCaseTemplate="wcag-2-4-6/inaccessible">
  <div class="wcag-example case-wcag-2-4-6-inacc">
    <h1>T√≠tulo</h1>
    <h3>Secci√≥n importante</h3>
    <h2>Subsecci√≥n</h2>
    <div class="wcag-example-note">
        Problema: salto de jerarqu√≠a: H1 ‚Üí H3 ‚Üí H2. Usuarios de lectores de pantalla pueden saltarse el contenido si unicamente conf√≠an en la jerarqu√≠a de la estructura.</div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-6/accessible">
  <div class="wcag-example case-wcag-2-4-6-acc">
    <h1>Mi Sitio Web</h1>
    <h2>Servicios principales</h2>
    <h3>Servicio 1</h3>
    <h3>Servicio 2</h3>
    <h2>Contacto</h2>
  </div>
</ng-template>

<!-- 3.3.1 Identificaci√≥n de errores -->
<ng-template wcagCaseTemplate="wcag-3-3-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-1-inacc" *ngIf="ensureErrorIdentificationDemo(idPrefix, 'inaccessible')">
    <div class="wcag-field">
      <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-3-1-inacc-email'">Correo</label>
      <input
        #inaccEmail
        type="email"
        [attr.id]="idPrefix + '-wcag-3-3-1-inacc-email'"
        placeholder="usuario@ejemplo.com"
        [class.wcag-input--error]="isErrorIdentificationFormInvalid(idPrefix, 'inaccessible')"
      />

      <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-3-1-inacc-tel'">Tel√©fono</label>
      <input
        #inaccTel
        type="tel"
        [attr.id]="idPrefix + '-wcag-3-3-1-inacc-tel'"
        placeholder="123-123-1234"
        [class.wcag-input--error]="isErrorIdentificationFormInvalid(idPrefix, 'inaccessible')"
      />

      <div
        *ngIf="isErrorIdentificationFormInvalid(idPrefix, 'inaccessible')"
        class="wcag-validation-error"
      >
        Error: revisa los datos ingresados.
      </div>

      <button
        type="button"
        class="wcag-primary"
        [attr.id]="idPrefix + '-wcag-3-3-1-inacc-submit'"
        (click)="onErrorIdentificationSubmit(idPrefix, 'inaccessible', inaccEmail.value, inaccTel.value, $event)"
      >
        Enviar
      </button>


    </div>
      <div class="wcag-example-note">
        Problema: error solo visual y gen√©rico (no explica qu√© pas√≥ ni c√≥mo corregirlo). El foco se queda en ‚ÄúEnviar‚Äù.
      </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-3-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-1-acc" *ngIf="ensureErrorIdentificationDemo(idPrefix, 'accessible')">
    <div class="wcag-field">
      <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-3-1-acc-email'">Correo</label>
      <input
        #accEmail
        type="email"
        required
        [attr.id]="idPrefix + '-wcag-3-3-1-acc-email'"
        placeholder="usuario@ejemplo.com"
        [class.wcag-input--error]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'email')"
        [attr.aria-invalid]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'email') ? 'true' : null"
        [attr.aria-describedby]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'email') ? (idPrefix + '-wcag-3-3-1-acc-email-error') : null"
        (input)="clearErrorIdentificationFieldError(idPrefix, 'accessible', 'email')"
      />

      <div
        *ngIf="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'email')"
        class="wcag-validation-error"
        [attr.id]="idPrefix + '-wcag-3-3-1-acc-email-error'"
        role="alert"
      >
        <strong>Correo requerido.</strong> Ingresa una direcci√≥n v√°lida (ej: <em>usuario@ejemplo.com</em>).
      </div>

      <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-3-1-acc-tel'">Tel√©fono</label>
      <input
        #accTel
        type="tel"
        required
        [attr.id]="idPrefix + '-wcag-3-3-1-acc-tel'"
        placeholder="123-123-1234"
        [class.wcag-input--error]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'phone')"
        [attr.aria-invalid]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'phone') ? 'true' : null"
        [attr.aria-describedby]="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'phone') ? (idPrefix + '-wcag-3-3-1-acc-tel-error') : null"
        (input)="clearErrorIdentificationFieldError(idPrefix, 'accessible', 'phone')"
      />

      <div
        *ngIf="isErrorIdentificationFieldErrorVisible(idPrefix, 'accessible', 'phone')"
        class="wcag-validation-error"
        [attr.id]="idPrefix + '-wcag-3-3-1-acc-tel-error'"
        role="alert"
      >
        <strong>Tel√©fono requerido.</strong> Ingresa un n√∫mero de tel√©fono (ej: <em>123-123-1234</em>).
      </div>

      <button
        type="button"
        class="wcag-primary"
        [attr.id]="idPrefix + '-wcag-3-3-1-acc-submit'"
        (click)="onErrorIdentificationSubmit(idPrefix, 'accessible', accEmail.value, accTel.value, $event)"
      >
        Enviar
      </button>
    </div>
      <div class="wcag-example-note">
        <ul>
            <li>Cada error debe ser descriptivo y especifico para que el usuario pueda entender qu√© sali√≥ mal y c√≥mo corregirlo.</li>
            <li> El foco se mantiene en el campo con error para facilitar su correcci√≥n.</li>
            <li>El uso de <strong>aria-invalid</strong> comunica que el campo tiene un error, y <strong>aria-describedby</strong> vincula el campo con un mensaje de error espec√≠fico. El mensaje de error tiene role="alert" para asegurar que sea anunciado inmediatamente por los lectores de pantalla.</li>
        </ul>
      </div>   
  </div>
</ng-template>

<!-- 3.3.2 Etiquetas o instrucciones -->
<ng-template wcagCaseTemplate="wcag-3-3-2/inaccessible">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-2-inacc">
    <div class="wcag-input-icon">
      <span class="wcag-input-icon__icon" aria-hidden="true">üîé</span>
      <input type="text" placeholder="(sin etiqueta)" />
    </div>
    <button type="button" class="wcag-primary">Enviar</button>
        <div class="wcag-example-note">
            Problema: sin indicaciones claras, el usuario puede no entender qu√© informaci√≥n se espera en el campo de texto, lo que dificulta su uso, especialmente para personas con discapacidades cognitivas o usuarios de lectores de pantalla.
    </div>
</div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-3-2/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-2-acc">
    <label class="wcag-label" [attr.for]="idPrefix + '-search'">Buscar en el sitio:</label>
    <div class="wcag-input-icon">
      <span class="wcag-input-icon__icon" aria-hidden="true">üîé</span>
      <input [attr.id]="idPrefix + '-search'" type="text" placeholder="Ej: accesibilidad" />
    </div>
    <button type="button" class="wcag-primary" aria-label="Buscar">Enviar</button>
  </div>
</ng-template>

<!-- 4.1.2 Nombre, rol y valor -->
<ng-template wcagCaseTemplate="wcag-4-1-2/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-2-inacc">
    <div class="wcag-subexample wcag-subexample--first">
      <div class="toggle-button">Activar</div>
      <p class="wcag-example-note">Problema: parece bot√≥n, pero no expone rol ni estado a AT.</p>
    </div>

    <div class="wcag-subexample">
      <nav class="wcag-nav">
        <a class="wcag-nav__link wcag-nav__link--current" href="#">Inicio</a>
        <a class="wcag-nav__link" href="#">Productos</a>
        <a class="wcag-nav__link" href="#">Contacto</a>
      </nav>
      <p class="wcag-example-note">Problema: el ‚Äúactual‚Äù se marca solo visualmente; AT no sabe cu√°l es la p√°gina actual.</p>
    </div>

    <div class="wcag-subexample">
      <div
        *ngIf="ensureFakeCheckboxDemo(idPrefix)"
        class="wcag-fake-checkbox"
        [class.wcag-fake-checkbox--checked]="isFakeCheckboxChecked(idPrefix)"
        (click)="toggleFakeCheckbox(idPrefix)"
      >
        <span class="wcag-fake-checkbox__box" aria-hidden="true"></span>
        <span>Acepto t√©rminos y condiciones</span>
      </div>
      <p class="wcag-example-note">Problema: no expone <strong>role</strong> ni <strong>checked</strong>; teclado/AT no lo operan como checkbox.</p>
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-4-1-2/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-2-acc">
    <div class="wcag-subexample wcag-subexample--first">
      <p class="label">Bot√≥n con estado (aria-pressed)</p>
      <button type="button" [attr.id]="idPrefix + '-toggle'" aria-pressed="false">Activar</button>
      <p class="wcag-example-note"><strong>Button</strong> con el atributo <strong>aria-pressed</strong> exponen rol y su estado.</p>
    </div>

    <div class="wcag-subexample">
      <p class="label">Navegaci√≥n con aria-current</p>
      <nav class="wcag-nav" aria-label="Secciones del sitio">
        <a class="wcag-nav__link" href="#" aria-current="page">Inicio</a>
        <a class="wcag-nav__link" href="#">Productos</a>
        <a class="wcag-nav__link" href="#">Contacto</a>
      </nav>
      <p class="wcag-example-note"><strong>Aria-current</strong> identifica la ubicaci√≥n pagina actual.</p>
    </div>

    <div class="wcag-subexample">
      <p class="label">Checkbox con rol/estado (ARIA)</p>
      <div
        *ngIf="ensureAriaCheckboxDemo(idPrefix)"
        class="wcag-custom-checkbox"
        [class.wcag-custom-checkbox--checked]="isAriaCheckboxChecked(idPrefix)"
        role="checkbox"
        tabindex="0"
        [attr.aria-checked]="isAriaCheckboxChecked(idPrefix) ? 'true' : 'false'"
        [attr.aria-labelledby]="idPrefix + '-chk-label'"
        (click)="toggleAriaCheckbox(idPrefix)"
        (keydown)="onAriaCheckboxKeydown(idPrefix, $event)"
      >
        <span class="wcag-custom-checkbox__box" aria-hidden="true"></span>
        <span [attr.id]="idPrefix + '-chk-label'">Acepto t√©rminos y condiciones</span>
      </div>
      <p class="wcag-example-note">El div expone <strong>role="checkbox"</strong> + <strong>aria-checked</strong> para garantizar su accesibilidad.</p>
    </div>
  </div>
</ng-template>

<!-- 1.2.1‚Äì1.2.3 Alternativas para audio y v√≠deo (prerregrabado) -->
<ng-template wcagCaseTemplate="wcag-1-2-1-3/inaccessible">
  <div class="wcag-example case-wcag-1-2-1-3-inacc">
    <div class="wcag-subexample wcag-subexample--first">
      <p class="label">1.2.1 ‚Äî Solo audio (sin transcripci√≥n)</p>
      <audio controls src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3"></audio>
      <p class="wcag-example-note">Problema: sin transcripci√≥n, el contenido no es accesible para personas sordas/hipoac√∫sicas.</p>
    </div>

    <div class="wcag-subexample">
      <p class="label">1.2.2 ‚Äî V√≠deo (sin subt√≠tulos/captions)</p>
      <video controls>
        <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
      </video>
      <p class="wcag-example-note">Problema: sin subt√≠tulos, el di√°logo/sonidos relevantes se pierden.</p>
    </div>

    <div class="wcag-subexample">
      <p class="label">1.2.3 ‚Äî V√≠deo con captions (pero sin audiodescripci√≥n)</p>
      <video
        controls
        crossorigin="anonymous"
        (loadedmetadata)="enableDefaultSubtitles($event)"
        (play)="enableDefaultSubtitles($event)"
      >
        <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
        <track kind="captions" [src]="flowerCaptionsSrc" srclang="es" label="Espa√±ol" default />
      </video>
      <p class="wcag-example-note">Problema: si la informaci√≥n visual aporta significado, captions no sustituyen la audiodescripci√≥n.</p>
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-2-1-3/accessible">
  <div class="wcag-example case-wcag-1-2-1-3-acc">
    <div class="wcag-subexample wcag-subexample--first">
      <p class="label">1.2.1 ‚Äî Audio + transcripci√≥n (prueba)</p>
      <audio controls src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3"></audio>
      <div class="transcript" role="group" aria-label="Transcripci√≥n">
        <h4>Transcripci√≥n</h4>
        <p>[00:00] Sonido fuerte / rugido (audio de prueba CC0).</p>
      </div>
    </div>

    <div class="wcag-subexample">
      <p class="label">1.2.2 ‚Äî V√≠deo + captions (prueba)</p>
      <video
        controls
        crossorigin="anonymous"
        (loadedmetadata)="enableDefaultSubtitles($event)"
        (play)="enableDefaultSubtitles($event)"
      >
        <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
        <track kind="captions" [src]="flowerCaptionsSrc" srclang="es" label="Espa√±ol" default />
      </video>
      <p class="hint">Si no ves los subt√≠tulos, activa ‚ÄúCC‚Äù en el reproductor.</p>
    </div>

    <div class="wcag-subexample">
      <p class="label">1.2.3 ‚Äî Audiodescripci√≥n o alternativa (prueba)</p>
      <video
        controls
        crossorigin="anonymous"
        (loadedmetadata)="enableDefaultSubtitles($event)"
        (play)="enableDefaultSubtitles($event)"
      >
        <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4" />
        <track kind="captions" [src]="flowerCaptionsSrc" srclang="es" label="Espa√±ol" default />
        <track
          kind="descriptions"
          [src]="flowerDescriptionsSrc"
          srclang="es"
          label="Audiodescripci√≥n (prueba)"
        />
      </video>

      <div class="alt">
        <strong>Alternativa:</strong>
        <div>Descripci√≥n del v√≠deo (texto): ‚ÄúSe muestra una flor movi√©ndose con el viento. Cambia el encuadre‚Äù.</div>
      </div>
    </div>
  </div>
</ng-template>

<!-- 1.3.3 Caracter√≠sticas sensoriales -->
<ng-template wcagCaseTemplate="wcag-1-3-3/inaccessible">
  <div class="wcag-example case-wcag-1-3-3-inacc">
    <div class="row">
      <p>Para continuar, pulsa el bot√≥n verde de la derecha.</p>
      <button class="continue" type="button">Continuar</button>
    </div>
    <div class="wcag-example-note">
         Problema: Usuarios con discapacidades sensoriales pueden no percibir el elemento visual correctamente.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-3-3/accessible">
  <div class="wcag-example case-wcag-1-3-3-acc">
    <div class="row">
      <p>Para continuar, pulsa el bot√≥n ‚ÄúContinuar‚Äù.</p>
      <button class="continue" type="button">Continuar</button>
    </div>
  </div>
</ng-template>

<!-- 1.3.4 Orientaci√≥n -->
<ng-template wcagCaseTemplate="wcag-1-3-4/inaccessible">
  <div class="wcag-example case-wcag-1-3-4-inacc">
    <div class="wrap">
      <div class="warning" role="alert">
        <strong>Bloqueado en horizontal</strong>
        <p>Gira el dispositivo a vertical para continuar.</p>
      </div>
      <div class="app">
        <strong>App de ejemplo</strong>
        <p>Este contenido desaparece en horizontal (malo).</p>
      </div>
    </div>
    <div class="wcag-example-note">
         Problema: Contenido deja de visualizarse si el usuario no puede utilizar la orientaci√≥n horizontal.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-3-4/accessible">
  <div class="wcag-example case-wcag-1-3-4-acc">
    <div class="wrap">
      <div class="app">
        <h3>Contenido adaptable</h3>
        <p>Funciona en vertical y horizontal sin bloquear orientaci√≥n.</p>
        <div class="grid">
          <div class="tile">Elemento 1</div>
          <div class="tile">Elemento 2</div>
          <div class="tile">Elemento 3</div>
          <div class="tile">Elemento 4</div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<!-- 1.3.5 Proposito del input -->
<ng-template wcagCaseTemplate="wcag-1-3-5/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-3-5-inacc">
    <div class="wrap">
      <label [attr.for]="idPrefix + '-contact'">Contacto</label>
      <input
        [attr.id]="idPrefix + '-contact'"
        name="contact"
        type="text"
        placeholder="Email o tel√©fono"
      />
    </div>
 <div class="wcag-example-note">
         Problema: Se desconoce tipo de dato a ingresar al haber ambiguedad en el label.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-3-5/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-3-5-acc">
    <div class="wrap">
      <label [attr.for]="idPrefix + '-email'">Correo</label>
      <input
        [attr.id]="idPrefix + '-email'"
        name="email"
        type="email"
        autocomplete="email"
        inputmode="email"
        placeholder="usuario@ejemplo.com"
      />

      <div style="margin-top: 10px;">
        <label [attr.for]="idPrefix + '-email2'">Correo(text)</label>
        <input
          [attr.id]="idPrefix + '-email2'"
          name="email2"
          type="text"
          autocomplete="email"
          inputmode="email"
          placeholder="usuario@ejemplo.com"
        />
      </div>
        <div style="margin-top: 10px;">
        <label [attr.for]="idPrefix + '-tel'">Tel√©fono</label>
        <input
          [attr.id]="idPrefix + '-tel'"
          name="tel"
          type="number"
          autocomplete="tel"
          inputmode="tel"
          placeholder="+34 600 000 000">
        </div>
    </div>
    <div class="wcag-example-note">
         Cada campo indica su proposito, autocomplete facilita la entrada de datos.
    </div>
  </div>
</ng-template>

<!-- 1.4.1 Uso del color -->
<ng-template wcagCaseTemplate="wcag-1-4-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-4-1-inacc">
    <div class="wrap">
      <label [attr.for]="idPrefix + '-code'">C√≥digo</label>
      <input class="error-border" [attr.id]="idPrefix + '-code'" aria-invalid="true" placeholder="Ej: ABC-123" />
    </div>
    <div class="wcag-example-note">
         Problema: Usuarios con discapacidad visual pueden no detectar el error si solo se usa color.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-4-1-acc">
    <div class="wrap">
      <label [attr.for]="idPrefix + '-code'">C√≥digo</label>
      <input
        class="error-border"
        [attr.id]="idPrefix + '-code'"
        aria-invalid="true"
        [attr.aria-describedby]="idPrefix + '-code-error'"
        placeholder="Ej: ABC-123"
      />
      <div class="error" [attr.id]="idPrefix + '-code-error'" role="alert">El c√≥digo es obligatorio.</div>
    </div>
  </div>
</ng-template>

<!-- 1.4.10 Reflow -->
<ng-template wcagCaseTemplate="wcag-1-4-10/inaccessible">
  <div class="wcag-example case-wcag-1-4-10-inacc">
    <div class="reflow-viewport" aria-label="Viewport simulado">
      <div class="fixed">
        <div class="col"><strong>Columna A</strong><div>Contenido ancho fijo</div></div>
        <div class="col"><strong>Columna B</strong><div>Contenido ancho fijo</div></div>
      </div>
    </div>
    <p class="hint">Arrastra el borde derecho del recuadro: si queda estrecho, aparece scroll horizontal.</p>
    <div class="wcag-example-note">
         Problema: Al haber un scroll horizontal, usuarios pueden tener dificultades para acceder a todo el contenido.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-10/accessible">
  <div class="wcag-example case-wcag-1-4-10-acc">
    <div class="reflow-viewport" aria-label="Viewport simulado">
      <div class="fluid">
        <div class="col"><strong>Columna A</strong><div>Se adapta y hace wrap</div></div>
        <div class="col"><strong>Columna B</strong><div>Se adapta y hace wrap</div></div>
      </div>
    </div>
    <div class="wcag-example-note">
         El conteido se adapta y hace wrap.
    </div>
  </div>
</ng-template>

<!-- 1.4.11 Contraste no textual -->
<ng-template wcagCaseTemplate="wcag-1-4-11/inaccessible">
  <div class="wcag-example case-wcag-1-4-11-inacc">
      <button class="btn weak" type="button">Bot√≥n con borde casi invisible</button>
      <div class="wcag-example-note">
         Problema: Sin suficiente contraste en el borde, usuarios pueden no darse cuenta que es un bot√≥n.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-11/accessible">
  <div class="wcag-example case-wcag-1-4-11-acc">
      <button class="btn strong" type="button">Bot√≥n con contraste no textual adecuado</button>
      <div class="wcag-example-note">
         A parte de texto y el borde, el bot√≥n tiene un fondo con contraste suficiente para ser distinguible.
    </div>
  </div>
</ng-template>

<!-- 1.4.12 Espaciado del texto -->
<ng-template wcagCaseTemplate="wcag-1-4-12/inaccessible">
  <div class="wcag-example case-wcag-1-4-12-inacc">
    <div class="wrap">
      <div class="box fixed-height user-spacing">
        Texto con espaciado aumentado (simulando preferencias del usuario). En un contenedor con altura fija se recorta.
      </div>
    </div>
    <div class="wcag-example-note">
         Problema: Con ajustes de espaciado, el texto se recorta y/o se presenta dificultades de lectura.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-12/accessible">
  <div class="wcag-example case-wcag-1-4-12-acc">
    <div class="wrap">
      <div class="box fluid user-spacing">
        Texto con espaciado aumentado (simulando preferencias del usuario). Sin altura fija, el contenido fluye y sigue legible.
      </div>
    </div>
  </div>
</ng-template>

<!-- 1.4.13 Contenido al pasar el cursor o foco -->
<ng-template wcagCaseTemplate="wcag-1-4-13/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-4-13-inacc">
    <span class="help">
      <button type="button" class="trigger">¬øQu√© es esto?</button>
      <span class="tip">Ayuda (solo hover: con teclado no aparece).</span>
    </span>
    <div class="wcag-example-note">
         Problema: la ayuda solo es visible al pasar el cursor, usuarios de teclado o con dificultades para usar el mouse no pueden acceder a esta informaci√≥n.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-1-4-13/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-1-4-13-acc">
    <span class="help">
      <button type="button" class="trigger" [attr.aria-describedby]="idPrefix + '-tip'">¬øQu√© es esto?</button>
      <span [attr.id]="idPrefix + '-tip'" class="tip" role="tooltip">Ayuda visible en hover y en foco (teclado).</span>
    </span>
    <div class="wcag-example-note">
         El contenido queda accesible tanto para usuarios de mouse como de teclado, al ser visible en hover y en foco respectivamente.
         El atributo <strong>aria-describedby</strong> conecta el bot√≥n con la ayuda, permitiendo que AT anuncie la informaci√≥n adicional al enfocarlo.
    </div>
  </div>
</ng-template>

<!-- 2.1.2 Sin trampas de teclado -->
<ng-template wcagCaseTemplate="wcag-2-1-2/inaccessible">
  <div class="wcag-example case-wcag-2-1-2-inacc">
    <div class="wcag-subexample wcag-subexample--first">
      <div class="wcag-field">
        <label class="wcag-label" for="wcag-2-1-2-inacc-first">Nombre</label>
        <input
          id="wcag-2-1-2-inacc-first"
          type="text"
          placeholder="Escribe aqu√≠"
          (keydown)="blockTabOnKeydown($event)"
        />
      </div>

      <div class="wcag-field">
        <label class="wcag-label" for="wcag-2-1-2-inacc-second">Apellido</label>
        <input id="wcag-2-1-2-inacc-second" type="text" placeholder="No alcanzable con Tab" />
      </div>
    </div>

    <div class="wcag-subexample">
      <button
        type="button"
        (click)="openModal('wcag-2-1-2-inacc-modal', 'wcag-2-1-2-inacc-modal-dialog')"
      >
        Abrir modal
      </button>

      <div class="wcag-modal-backdrop" *ngIf="isModalOpen('wcag-2-1-2-inacc-modal')">
        <div
          id="wcag-2-1-2-inacc-modal-dialog"
          class="dialog trap"
          role="dialog"
          aria-modal="true"
          aria-label="Modal de prueba (inaccesible)"
          tabindex="0"
          (keydown)="blockTabAndEscapeOnKeydown($event)"
        >
          <h2>Preferencias</h2>
          <p>Contenido del modal... navegaci√≥n por teclado anulada, no permite alternativas para salir.</p>

          <button
            type="button"
            tabindex="-1"
            (click)="closeModal('wcag-2-1-2-inacc-modal')"
            aria-label="Cerrar (solo mouse)"
          >
            Cerrar
          </button>
        </div>
      </div>
    </div>

    <div class="wcag-example-note">
      Problema: una ‚Äútrampa de teclado‚Äù impide salir de un √°rea o modal usando √∫nicamente el teclado.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-1-2/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-1-2-acc">
    <div class="wcag-subexample wcag-subexample--first">
      <div class="wcag-field">
        <label class="wcag-label" [attr.for]="idPrefix + '-first'">Nombre</label>
        <input [attr.id]="idPrefix + '-first'" type="text" placeholder="Tab funciona" />
      </div>

      <div class="wcag-field">
        <label class="wcag-label" [attr.for]="idPrefix + '-second'">Apellido</label>
        <input [attr.id]="idPrefix + '-second'" type="text" placeholder="Alcanzable con Tab" />
      </div>
    </div>

    <div class="wcag-subexample">
      <button
        type="button"
        [attr.id]="idPrefix + '-wcag-2-1-2-acc-open'"
        aria-haspopup="dialog"
        [attr.aria-controls]="idPrefix + '-wcag-2-1-2-acc-area'"
        (click)="openModal(idPrefix + '-wcag-2-1-2-acc-modal', idPrefix + '-wcag-2-1-2-acc-close-x')"
      >
        Abrir modal
      </button>

      <div class="wcag-modal-backdrop" *ngIf="isModalOpen(idPrefix + '-wcag-2-1-2-acc-modal')">
        <div
          class="dialog"
          role="dialog"
          aria-modal="true"
          [attr.aria-labelledby]="idPrefix + '-dlg-title'"
          [attr.id]="idPrefix + '-wcag-2-1-2-acc-area'"
          [appFocusTrap]="idPrefix + '-wcag-2-1-2-acc-area'"
          [trapMode]="FocusTrapMode.TAB"
          tabindex="-1"
          (keydown.escape)="closeModalFromKeyboard(idPrefix + '-wcag-2-1-2-acc-modal')"
        >
          <button
            type="button"
            class="dialog__close-x"
            [attr.id]="idPrefix + '-wcag-2-1-2-acc-close-x'"
            aria-label="Cerrar modal"
            (click)="closeModal(idPrefix + '-wcag-2-1-2-acc-modal')"
            (keydown.enter)="$event.preventDefault(); $event.stopPropagation(); closeModalFromKeyboard(idPrefix + '-wcag-2-1-2-acc-modal')"
            (keydown.space)="$event.preventDefault(); $event.stopPropagation(); closeModalFromKeyboard(idPrefix + '-wcag-2-1-2-acc-modal')"
          >
            √ó
          </button>
          <h2 [attr.id]="idPrefix + '-dlg-title'">Preferencias</h2>
          <p>Contenido del modal... navegaci√≥n controlada, permite salir presionando Escape.</p>
          <button
            type="button"
            [attr.id]="idPrefix + '-wcag-2-1-2-acc-close'"
            (click)="closeModal(idPrefix + '-wcag-2-1-2-acc-modal')"
            (keydown.enter)="$event.preventDefault(); $event.stopPropagation(); closeModalFromKeyboard(idPrefix + '-wcag-2-1-2-acc-modal')"
            (keydown.space)="$event.preventDefault(); $event.stopPropagation(); closeModalFromKeyboard(idPrefix + '-wcag-2-1-2-acc-modal')"
          >
            Cerrar
          </button>
        </div>
      </div>
    </div>
    <div class="wcag-example-note">
        <ul>
            <li>Navegacion en el formulario no debe quedar bloqueada.</li>
            <li>Es muy comun querer atrapar el foco en un modal, pero nunca debemos hacerlo sin proporcionar una forma clara de salir.</li>
            <li>El boton encargado de abrir un modal debe tener el atributo <strong>aria-haspopup="dialog"</strong> para indicar que abre un di√°logo, y <strong>aria-controls</strong> para conectar el bot√≥n con el √°rea del modal.</li>
            <li>El uso del atributo <strong>aria-modal</strong> es fundamental para indicar que un modal es modal y para ayudar a los lectores de pantalla a entender el contexto.</li>
            <li>Cambio del role a <strong>dialog</strong> tambi√©n es importante para que AT lo reconozca como un di√°logo modal, lo que puede afectar c√≥mo se anuncia y c√≥mo se maneja el foco.</li>
        </ul>
    </div>
  </div>
</ng-template>

<!-- 2.2.1 Tiempo ajustable -->
<ng-template wcagCaseTemplate="wcag-2-2-1/inaccessible" let-idPrefix="idPrefix">
  <ng-container *ngIf="ensureSessionTimeoutInaccessible(idPrefix)"></ng-container>
  <div class="wcag-example case-wcag-2-2-1-inacc">
    <div class="status" *ngIf="isSessionTimeoutPhase(idPrefix, 'inaccessible', 'countdown')">
      La sesi√≥n expira en {{ getSessionTimeoutRemaining(idPrefix, 'inaccessible') }} segundos.
    </div>

    <div class="status" *ngIf="isSessionTimeoutPhase(idPrefix, 'inaccessible', 'expired')">
      Sesi√≥n expirada.
    </div>

    <div class="wcag-example-note">
      Problema: el tiempo se agota y el usuario no tiene alternativa para extender la sesi√≥n.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-2-1/accessible" let-idPrefix="idPrefix">
  <ng-container *ngIf="ensureSessionTimeoutAccessible(idPrefix)"></ng-container>
  <div class="wcag-example case-wcag-2-2-1-acc">
    <div
      aria-live="polite"
      class="status"
      *ngIf="isSessionTimeoutPhase(idPrefix, 'accessible', 'countdown')"
    >
      La sesi√≥n expira en {{ getSessionTimeoutRemaining(idPrefix, 'accessible') }} segundos.
    </div>

    <div class="status" *ngIf="isSessionTimeoutPhase(idPrefix, 'accessible', 'closed')">
      Sesi√≥n cerrada.
    </div>

    <div
      class="wcag-modal-backdrop"
      *ngIf="isModalOpen(idPrefix + '-wcag-2-2-1-acc-modal')"
    >
      <div
        class="dialog"
        role="dialog"
        aria-modal="true"
        [attr.aria-labelledby]="idPrefix + '-wcag-2-2-1-title'"
        [attr.id]="idPrefix + '-wcag-2-2-1-acc-area'"
        [appFocusTrap]="idPrefix + '-wcag-2-2-1-acc-area'"
        [trapMode]="FocusTrapMode.TAB"
        tabindex="-1"
        (keydown.escape)="declineSessionTimeoutExtension(idPrefix, true)"
      >
        <button
          type="button"
          class="dialog__close-x"
          aria-label="Cerrar"
          (click)="declineSessionTimeoutExtension(idPrefix, false)"
          (keydown.enter)="$event.preventDefault(); $event.stopPropagation(); declineSessionTimeoutExtension(idPrefix, true)"
          (keydown.space)="$event.preventDefault(); $event.stopPropagation(); declineSessionTimeoutExtension(idPrefix, true)"
        >
          √ó
        </button>

        <h2 [attr.id]="idPrefix + '-wcag-2-2-1-title'">¬øProlongar sesi√≥n?</h2>
        <p>Tu sesi√≥n est√° por expirar. Puedes extenderla o cerrar la sesi√≥n.</p>

        <button
          type="button"
          [attr.id]="idPrefix + '-wcag-2-2-1-acc-yes'"
          (click)="extendSessionTimeout(idPrefix, 5, false)"
          (keydown.enter)="$event.preventDefault(); $event.stopPropagation(); extendSessionTimeout(idPrefix, 5, true)"
          (keydown.space)="$event.preventDefault(); $event.stopPropagation(); extendSessionTimeout(idPrefix, 5, true)"
        >
          S√≠, prolongar 5 segundos
        </button>

        <button
          type="button"
          (click)="declineSessionTimeoutExtension(idPrefix, false)"
          (keydown.enter)="$event.preventDefault(); $event.stopPropagation(); declineSessionTimeoutExtension(idPrefix, true)"
          (keydown.space)="$event.preventDefault(); $event.stopPropagation(); declineSessionTimeoutExtension(idPrefix, true)"
        >
          No, cerrar sesi√≥n
        </button>
      </div>
    </div>

    <div class="wcag-example-note">
      Se requiere el uso de role <strong>alert</strong> o <strong>aria-live</strong> para notificar al usuario sobre el tiempo restante, y un di√°logo modal para ofrecer opciones claras de extender o cerrar sesi√≥n.
      En lugar de cerrar la sesi√≥n sin aviso, se notifica y se ofrece una forma clara de extender el tiempo.
    </div>
  </div>
</ng-template>

<!-- 2.2.2 Pausar, detener, ocultar -->
<ng-template wcagCaseTemplate="wcag-2-2-2/inaccessible" let-idPrefix="idPrefix">
  <ng-container *ngIf="ensureCarouselInaccessible(idPrefix)"></ng-container>
  <div class="wcag-example case-wcag-2-2-2-inacc">
    <div class="carousel" aria-label="Promociones">
      <div class="slide" *ngIf="getCarouselIndex(idPrefix, 'inaccessible') === 0">Slide 1</div>
      <div class="slide" *ngIf="getCarouselIndex(idPrefix, 'inaccessible') === 1">Slide 2</div>
    </div>
    <div class="wcag-example-note">
      Problema: rotaci√≥n autom√°tica cada 1s sin controles para pausar o navegar.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-2-2/accessible" let-idPrefix="idPrefix">
  <ng-container *ngIf="ensureCarouselAccessible(idPrefix)"></ng-container>
  <div class="wcag-example case-wcag-2-2-2-acc">
    <div class="carousel" [attr.id]="idPrefix + '-promo'" aria-label="Promociones">
      <div class="carousel-controls">
        <button
          type="button"
          [attr.aria-controls]="idPrefix + '-promo'"
          [attr.aria-pressed]="isCarouselPaused(idPrefix)"
          (click)="toggleCarouselPaused(idPrefix)"
        >
          {{ isCarouselPaused(idPrefix) ? 'Reanudar' : 'Pausar' }}
        </button>

        <button type="button" aria-label="Slide anterior" (click)="carouselPrev(idPrefix)">‚Üê</button>
        <button type="button" aria-label="Siguiente slide" (click)="carouselNext(idPrefix)">‚Üí</button>
      </div>

      <div class="slide" *ngIf="getCarouselIndex(idPrefix, 'accessible') === 0">Slide 1</div>
      <div class="slide" *ngIf="getCarouselIndex(idPrefix, 'accessible') === 1">Slide 2</div>
    </div>

    <div class="wcag-example-note">
      Ofrecer un control de pausa y botones para ir al siguiente/anterior.
    </div>
  </div>
</ng-template>

<!-- 2.3.1 Convulsiones y reacciones f√≠sicas (flashes) -->
<ng-template wcagCaseTemplate="wcag-2-3-1/inaccessible">
  <div class="wcag-example case-wcag-2-3-1-inacc">
    <div class="flash">Banner parpadeante</div>
    <div class="wcag-example-note">
      Problema: parpadeos r√°pidos pueden causar convulsiones o reacciones f√≠sicas en personas susceptibles.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-3-1/accessible">
  <div class="wcag-example case-wcag-2-3-1-acc">
    <div class="safe">Banner sin parpadeos r√°pidos</div>
  </div>
</ng-template>

<!-- 2.4.3 Orden del foco -->
<ng-template wcagCaseTemplate="wcag-2-4-3/inaccessible">
  <div class="wcag-example case-wcag-2-4-3-inacc">
    <a href="#" tabindex="3">Tercero</a>
    <button type="button" tabindex="1">Primero</button>
    <input tabindex="2" placeholder="Segundo" />
    <div class="wcag-example-note">
      Problema: el orden del foco no sigue un patr√≥n l√≥gico, lo que puede causar confusi√≥n y dificultades de navegaci√≥n para usuarios de teclado o AT.
    </div>  
</div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-3/accessible">
  <div class="wcag-example case-wcag-2-4-3-acc">
    <button type="button">Primero</button>
    <input placeholder="Segundo" />
    <a href="#">Tercero</a>
  </div>
</ng-template>

<!-- 2.4.5 M√∫ltiples v√≠as de navegaci√≥n -->
<ng-template wcagCaseTemplate="wcag-2-4-5/inaccessible">
  <div class="wcag-example case-wcag-2-4-5-inacc">
    <label for="search-input-wcag-2-4-5-inacc">Buscar paginas</label>
    <input id="search-input-wcag-2-4-5-inacc" type="search" aria-label="Buscar" />
    <div class="wcag-example-note">
      Problema: sin manera alternativa de navegaci√≥n por paginas, usuarios pueden tener dificultades para encontrar contenido o entender la estructura del sitio, especialmente si tienen discapacidades cognitivas o de aprendizaje.
    </div>  
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-5/accessible">
  <div class="wcag-example case-wcag-2-4-5-acc">
    <nav aria-label="Navegaci√≥n principal">
      <a href="/productos">Productos/</a>
      <a href="/precios">Precios/</a>
      <a href="/contacto">Contacto</a>
    </nav>
    <p><a href="/mapa-del-sitio">Mapa del sitio</a></p>
    <label for="search-input-wcag-2-4-5-acc">Buscar paginas</label>
    <input id="search-input-wcag-2-4-5-acc" type="search" aria-label="Buscar" />
  </div>
</ng-template>

<!-- 2.4.7 Enfoque visible -->
<ng-template wcagCaseTemplate="wcag-2-4-7/inaccessible">
  <div class="wcag-example case-wcag-2-4-7-inacc">
    <button type="button" class="no-outline">Guardar</button>
    <div class="wcag-example-note">
      Problema: sin un foco visible usuario puede perderse en la navegaci√≥n.
    </div>   </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-4-7/accessible">
  <div class="wcag-example case-wcag-2-4-7-acc">
    <button type="button" class="yes-outline">Guardar</button>
  </div>
</ng-template>

<!-- 2.5.1 Gestos con puntero -->
<ng-template wcagCaseTemplate="wcag-2-5-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-5-1-inacc">
    <div
      class="pointer-swap"
      *ngIf="ensurePointerGestureSwap(idPrefix, 'inaccessible')"
    >
      <div class="pointer-swap__slot" *ngFor="let key of getPointerGestureOrder(idPrefix, 'inaccessible')">
        <div
          class="pointer-swap__item"
          [class.pointer-swap__item--a]="key === 'a'"
          [class.pointer-swap__item--b]="key === 'b'"
          draggable="true"
          (dragstart)="onPointerGestureDragStart($event, idPrefix, 'inaccessible', key)"
          (dragover)="onPointerGestureDragOver($event)"
          (drop)="onPointerGestureDrop($event, idPrefix, 'inaccessible', key)"
        >
          <div class="pointer-swap__title">{{ key === 'a' ? 'Contenedor A' : 'Contenedor B' }}</div>
          <div class="pointer-swap__hint">Arrastra para intercambiar</div>
        </div>
      </div>
    </div>

    <div class="wcag-example-note">
      Problema: la acci√≥n solo se puede realizar mediante gesto de arrastrar (sin alternativa por controles).
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-2-5-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-2-5-1-acc">
    <div class="pointer-swap__actions">
      <button type="button" (click)="swapPointerGestureOrder(idPrefix)">Intercambiar contenedores</button>
    </div>

    <div
      class="pointer-swap"
      *ngIf="ensurePointerGestureSwap(idPrefix, 'accessible')"
    >
      <div class="pointer-swap__slot" *ngFor="let key of getPointerGestureOrder(idPrefix, 'accessible')">
        <div
          class="pointer-swap__item"
          [class.pointer-swap__item--a]="key === 'a'"
          [class.pointer-swap__item--b]="key === 'b'"
          draggable="true"
          (dragstart)="onPointerGestureDragStart($event, idPrefix, 'accessible', key)"
          (dragover)="onPointerGestureDragOver($event)"
          (drop)="onPointerGestureDrop($event, idPrefix, 'accessible', key)"
        >
          <div class="pointer-swap__title">{{ key === 'a' ? 'Contenedor A' : 'Contenedor B' }}</div>
          <div class="pointer-swap__hint">Arrastra o usa el bot√≥n</div>
        </div>
      </div>
    </div>

    <div class="wcag-example-note">
      Se mantiene el gesto de arrastrar, y adem√°s existe un control (bot√≥n) para realizar la misma acci√≥n sin depender del gesto.
    </div>
  </div>
</ng-template>

<!-- 3.1.1 Idioma de la p√°gina -->
<ng-template wcagCaseTemplate="wcag-3-1-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-1-1-inacc">
    <pre class="code"><code>&lt;html&gt;...&lt;/html&gt;</code></pre>
    <p>El mensaje dice: Welcome to our site.</p>
    <div class="wcag-example-note">
      Problema: sin <strong>lang</strong> en la p√°gina y sin marcar el idioma de frases extranjeras, los lectores de pantalla pueden usar una pronunciaci√≥n incorrecta.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-1-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-1-1-acc" *ngIf="ensureLanguageDemo(idPrefix)">
    <div class="lang-demo">
      <label class="wcag-label" [attr.for]="idPrefix + '-lang'">Idioma de la p√°gina (demo)</label>
      <select
        class="lang-demo__select"
        [attr.id]="idPrefix + '-lang'"
        [value]="getLanguageDemoLang(idPrefix)"
        (change)="onLanguageDemoChange($event, idPrefix)"
      >
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
      </select>
    </div>

    <div class="lang-demo__preview" [attr.lang]="getLanguageDemoLang(idPrefix)">
      <p *ngIf="getLanguageDemoLang(idPrefix) === 'es'">
        El mensaje dice: <span lang="en">Welcome to our site</span>.
      </p>
      <p *ngIf="getLanguageDemoLang(idPrefix) === 'en'">
        The message says: <span lang="es">Bienvenido a nuestro sitio</span>.
      </p>
    </div>

    <div class="wcag-example-note">
      <ul>
        <li><strong>3.1.1</strong>: el idioma principal se define con <strong>lang</strong> (ej. <code>&lt;html lang="es"&gt;</code> o en el contenedor principal).</li>
        <li><strong>3.1.2</strong>: para frases en otro idioma, marca el fragmento con <strong>lang</strong>.</li>
      </ul>
    </div>
  </div>
</ng-template>

<!-- 3.2.1 Al recibir foco -->
<ng-template wcagCaseTemplate="wcag-3-2-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-2-1-inacc">
    <button
      type="button"
      (focus)="openPanel(idPrefix + '-wcag-3-2-1-panel-inacc')"
      (blur)="closePanel(idPrefix + '-wcag-3-2-1-panel-inacc')"
    >
      Enf√≥came (malo)
    </button>

    <div
      class="wcag-panel"
      [attr.id]="idPrefix + '-wcag-3-2-1-panel-inacc'"
      [hidden]="!isPanelOpen(idPrefix + '-wcag-3-2-1-panel-inacc')"
    >
      <p class="wcag-panel-title"><strong>Panel mostrado por foco</strong></p>
      <p class="wcag-panel-body">Aparece solo por recibir foco, sin que el usuario lo haya activado.</p>
    </div>

    <div class="wcag-example-note">
      Problema: al recibir foco se produce un cambio de contexto (aparece contenido) sin acci√≥n expl√≠cita del usuario.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-2-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-2-1-acc">
    <button
      type="button"
      class="wcag-primary"
      [attr.id]="idPrefix + '-wcag-3-2-1-toggle'"
      [attr.aria-controls]="idPrefix + '-wcag-3-2-1-panel-acc'"
      [attr.aria-expanded]="isPanelOpen(idPrefix + '-wcag-3-2-1-panel-acc')"
      (click)="togglePanel(idPrefix + '-wcag-3-2-1-panel-acc')"
    >
      Mostrar panel (activar)
    </button>

    <div
      class="wcag-panel"
      [attr.id]="idPrefix + '-wcag-3-2-1-panel-acc'"
      role="region"
      [attr.aria-labelledby]="idPrefix + '-wcag-3-2-1-toggle'"
      [hidden]="!isPanelOpen(idPrefix + '-wcag-3-2-1-panel-acc')"
    >
      <p class="wcag-panel-title"><strong>Panel mostrado por activaci√≥n</strong></p>
      <p class="wcag-panel-body">Aparece solo cuando activas el bot√≥n.</p>
    </div>

  </div>
</ng-template>

<!-- 3.2.2 Al ingresar datos -->
<ng-template wcagCaseTemplate="wcag-3-2-2/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-2-2-inacc" *ngIf="ensureDataEntryDemo(idPrefix, 'inaccessible')">
    <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-2-2-inacc-input'">Dato</label>
    <input
      #inaccInput
      [attr.id]="idPrefix + '-wcag-3-2-2-inacc-input'"
      type="text"
      placeholder="Escribe algo"
      (blur)="onDataEntryBlur(idPrefix, 'inaccessible', inaccInput.value)"
    />

    <button type="button" class="wcag-primary">Enviar</button>

    <div
      class="wcag-panel"
      [attr.id]="idPrefix + '-wcag-3-2-2-panel-inacc'"
      [hidden]="!isPanelOpen(idPrefix + '-wcag-3-2-2-panel-inacc')"
    >
      <p class="wcag-panel-title"><strong>Enviado autom√°ticamente</strong></p>
      <p class="wcag-panel-body">Datos enviados: {{ getDataEntryValue(idPrefix, 'inaccessible') || '(vac√≠o)' }}</p>
    </div>

    <div class="wcag-example-note">
      Problema: al interactuar con el input y avanzar al siguiente (blur) se env√≠an los datos sin que el usuario lo haya solicitado.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-2-2/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-3-2-2-acc" *ngIf="ensureDataEntryDemo(idPrefix, 'accessible')">
    <label class="wcag-label" [attr.for]="idPrefix + '-wcag-3-2-2-acc-input'">Dato</label>
    <input
      #accInput
      [attr.id]="idPrefix + '-wcag-3-2-2-acc-input'"
      type="text"
      placeholder="Escribe algo"
    />

    <button
      type="button"
      class="wcag-primary"
      [attr.id]="idPrefix + '-wcag-3-2-2-submit'"
      [attr.aria-controls]="idPrefix + '-wcag-3-2-2-panel-acc'"
      [attr.aria-expanded]="isPanelOpen(idPrefix + '-wcag-3-2-2-panel-acc')"
      (click)="onDataEntrySubmit(idPrefix, accInput.value)"
    >
      Enviar
    </button>

    <div
      class="wcag-panel"
      [attr.id]="idPrefix + '-wcag-3-2-2-panel-acc'"
      role="region"
      [attr.aria-labelledby]="idPrefix + '-wcag-3-2-2-submit'"
      [hidden]="!isPanelOpen(idPrefix + '-wcag-3-2-2-panel-acc')"
    >
      <p class="wcag-panel-title"><strong>Enviado por activaci√≥n</strong></p>
      <p class="wcag-panel-body">Datos enviados: {{ getDataEntryValue(idPrefix, 'accessible') || '(vac√≠o)' }}</p>
    </div>

    <div class="wcag-example-note">
        El uso de role <strong>region</strong> y aria-labelledby conecta el panel con el bot√≥n que lo controla, proporcionando un contexto claro para los usuarios de AT.
      El panel solo aparece cuando el usuario activa expl√≠citamente el bot√≥n.
    </div>
  </div>
</ng-template>

<!-- 3.2.3 Navegaci√≥n consistente -->
<ng-template wcagCaseTemplate="wcag-3-2-3/inaccessible">
  <div class="wcag-example case-wcag-3-2-3-inacc">
    <div class="nav-sample">
      <strong>P√°gina A</strong>
      <nav class="nav-links nav-links--tight" aria-label="Navegaci√≥n">
        <a class="nav-link nav-link--small" href="/inicio">Inicio</a>
        <a class="nav-link nav-link--small" href="/productos">Productos</a>
        <a class="nav-link nav-link--small" href="/contacto">Contacto</a>
      </nav>
    </div>
    <div class="nav-sample" style="margin-top: 10px;">
      <strong>P√°gina B</strong>
      <nav class="nav-links nav-links--tight" aria-label="Navegaci√≥n">
        <a class="nav-link nav-link--small" href="/productos">Productos</a>
        <a class="nav-link nav-link--small" href="/inicio">Inicio</a>
      </nav>
    </div>

    <div class="wcag-example-note">
      Problema: la navegaci√≥n no es consistente entre p√°ginas y adem√°s los links tienen un √°rea clicable muy peque√±a y con poco espacio entre elementos.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-2-3/accessible">
  <div class="wcag-example case-wcag-3-2-3-acc">
    <div class="nav-sample">
      <strong>P√°gina A</strong>
      <nav class="nav-links nav-links--spacious" aria-label="Navegaci√≥n">
        <a class="nav-link nav-link--target" href="/inicio">Inicio</a>
        <a class="nav-link nav-link--target" href="/productos">Productos</a>
        <a class="nav-link nav-link--target" href="/contacto">Contacto</a>
      </nav>
    </div>

    <div class="nav-sample" style="margin-top: 10px;">
      <strong>P√°gina B</strong>
      <nav class="nav-links nav-links--spacious" aria-label="Navegaci√≥n">
        <a class="nav-link nav-link--target" href="/inicio">Inicio</a>
        <a class="nav-link nav-link--target" href="/productos">Productos</a>
        <a class="nav-link nav-link--target" href="/contacto">Contacto</a>
      </nav>
    </div>

    <div class="wcag-example-note">
        Minimo area clicable de 24x24px por link, con espacio entre elementos para evitar clics accidentales.
         La navegaci√≥n es consistente entre p√°ginas, con los mismos links en el mismo orden y estilo.
    </div>
  </div>
</ng-template>

<!-- 3.2.4 Identificaci√≥n consistente -->
<ng-template wcagCaseTemplate="wcag-3-2-4/inaccessible">
  <div class="wcag-example case-wcag-3-2-4-inacc">
    <span class="panel">
        <button type="button" aria-label="Buscar">üîé</button>
        <button type="button" aria-label="Ir">üîé</button>
    </span>
    <div class="wcag-example-note">
      Problema: botones identificados unicamente por el icono con un label diferente crean confusi√≥n.
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-2-4/accessible">
  <div class="wcag-example case-wcag-3-2-4-acc">
    <span class="panel">
        <button type="button" aria-label="Buscar">üîé</button>
        <button type="button" aria-label="Ir">‚û§</button>
    </span>
    <div class="wcag-example-note">
        Cada boton tiene que tener un label consistente con su funci√≥n, evitando confusi√≥n tanto para usuarios visuales como para usuarios de AT.
    </div>
  </div>
</ng-template>

<!-- 3.3.3 Sugerencias ante errores -->
<ng-template wcagCaseTemplate="wcag-3-3-3/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-3-inacc">
    <label class="wcag-label" [attr.for]="idPrefix + '-pwd'">Contrase√±a</label>
    <input [attr.id]="idPrefix + '-pwd'" type="password" aria-invalid="true" />
    <div class="wcag-error" role="alert">Contrase√±a inv√°lida</div>

    <label class="wcag-label" [attr.for]="idPrefix + '-date'">Fecha</label>
    <input [attr.id]="idPrefix + '-date'" type="text" aria-invalid="true" />
    <div class="wcag-error" role="alert">Fecha inv√°lida</div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-3-3-3/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example wcag-form-demo case-wcag-3-3-3-acc">
    <label class="wcag-label" [attr.for]="idPrefix + '-pwd'">Contrase√±a</label>
    <input
      [attr.id]="idPrefix + '-pwd'"
      type="password"
      aria-invalid="true"
      [attr.aria-describedby]="idPrefix + '-pwd-help ' + idPrefix + '-pwd-error'"
    />
    <div [attr.id]="idPrefix + '-pwd-help'" class="wcag-hint wcag-hint--format">
      Formato: 8+ caracteres, 1 n√∫mero y 1 may√∫scula.
    </div>
    <div [attr.id]="idPrefix + '-pwd-error'" class="wcag-error" role="alert">
      <span class="wcag-error__icon" aria-hidden="true">!</span>
      Falta al menos un n√∫mero.
    </div>

    <label class="wcag-label" [attr.for]="idPrefix + '-date'">Fecha</label>
    <input
      [attr.id]="idPrefix + '-date'"
      type="text"
      aria-invalid="true"
      [attr.aria-describedby]="idPrefix + '-date-help ' + idPrefix + '-date-error'"
    />
    <div [attr.id]="idPrefix + '-date-help'" class="wcag-hint wcag-hint--format">
      Formato: DD/MM/AAAA.
    </div>
    <div [attr.id]="idPrefix + '-date-error'" class="wcag-error" role="alert">
      <span class="wcag-error__icon" aria-hidden="true">!</span>
      Formato de la fecha es inv√°lido
    </div>
  </div>
</ng-template>

<!-- 4.1.1 An√°lisis (HTML bien formado) -->
<ng-template wcagCaseTemplate="wcag-4-1-1/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-1-inacc">
    <div class="wcag-subexample wcag-subexample--first">
      <div class="wcag-primary">Enviar</div>
      <p class="wcag-example-note">Problema: no es un control sem√°ntico; teclado/AT no lo interpretan como bot√≥n.</p>
    </div>

    <div class="wcag-subexample">
      <label class="wcag-label">Correo</label>
      <input type="email" placeholder="usuario@ejemplo.com" />
      <p class="wcag-example-note">Problema: el label no est√° asociado (falta <strong>for</strong>/<strong>id</strong>).</p>
    </div>

    <div class="wcag-subexample">
      <input [attr.id]="idPrefix + '-dup'" type="text" placeholder="Campo A" />
      <input [attr.id]="idPrefix + '-dup'" type="text" placeholder="Campo B" />
      <p class="wcag-example-note">Problema: IDs duplicados rompen referencias (labels, aria-describedby, etc.).</p>
    </div>

    <div class="wcag-subexample">
      <ul>
        <span>Texto</span>
        <li></li>
        <li>Elemento v√°lido</li>
      </ul>
      <p class="wcag-example-note">Problema: HTML mal estructurado, tags <strong>ul</strong> no pueden contener elementos que no sean <strong>li</strong>. Esto es confuso/ruidoso para lectores de pantalla y parsers.</p>
    </div>

    <div class="wcag-subexample">
      <div role="status" aria-expanded="true">Cargando‚Ä¶</div>
      <p class="wcag-example-note">Problema: usar atributos ARIA que el rol no soporta genera experiencias inconsistentes.</p>
    </div>
  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-4-1-1/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-1-acc">
    <div class="wcag-subexample wcag-subexample--first">
      <button type="button" class="wcag-primary">Enviar</button>
      <p class="wcag-example-note">Usa <strong>button</strong> para exponer rol y soporte de teclado.</p>
    </div>

    <div class="wcag-subexample">
      <label class="wcag-label" [attr.for]="idPrefix + '-email'">Correo</label>
      <input [attr.id]="idPrefix + '-email'" type="email" placeholder="usuario@ejemplo.com" />
      <p class="wcag-example-note"> <strong>For</strong> y <strong>id</strong> para conectar etiqueta y control.</p>
    </div>

    <div class="wcag-subexample">
      <input [attr.id]="idPrefix + '-field-a'" type="text" placeholder="Campo A" />
      <input [attr.id]="idPrefix + '-field-b'" type="text" placeholder="Campo B" />
      <p class="wcag-example-note">IDs √∫nicos garantizan referencias fiables.</p>
    </div>

    <div class="wcag-subexample">
      <ul>
        <li>Revisar datos</li>
        <li>Confirmar env√≠o</li>
      </ul>
      <p class="wcag-example-note">Correcto: estructura limpia y significativa.</p>
    </div>

    <div class="wcag-subexample">
      <div role="status" aria-live="polite">Cargando‚Ä¶</div>
      <p class="wcag-example-note">Correcto: <strong>role="status"</strong> + <strong>aria-live</strong> sin atributos incompatibles.</p>
    </div>
  </div>
</ng-template>

<!-- 4.1.3 Mensajes de estado -->
<ng-template wcagCaseTemplate="wcag-4-1-3/inaccessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-3-inacc">
      <button
        *ngIf="ensureAddToCartDemo(idPrefix, 'inaccessible')"
        type="button"
        class="wcag-primary"
        (click)="startAddToCart(idPrefix, 'inaccessible')"
      >
        Agregar
      </button>

      <div *ngIf="isAddToCartLoading(idPrefix, 'inaccessible')" class="wcag-loader">
        <span class="wcag-loader__spinner" aria-hidden="true"></span>
        <span>Cargando‚Ä¶</span>
      </div>

      <div
        *ngIf="isAddToCartDone(idPrefix, 'inaccessible')"
        class="hint wcag-fade"
        [class.wcag-fade--out]="isAddToCartFading(idPrefix, 'inaccessible')"
      >
        Agregado.
      </div>

      <div class="wcag-example-note">Problema: AT no recibe ningun mensaje de estado confiable.
      </div>

  </div>
</ng-template>

<ng-template wcagCaseTemplate="wcag-4-1-3/accessible" let-idPrefix="idPrefix">
  <div class="wcag-example case-wcag-4-1-3-acc">
      <button
        *ngIf="ensureAddToCartDemo(idPrefix, 'accessible')"
        type="button"
        class="wcag-primary"
        (click)="startAddToCart(idPrefix, 'accessible')"
      >
        Agregar
      </button>

      <div
        [attr.id]="idPrefix + '-status'"
        role="status"
        aria-live="polite"
        [attr.aria-busy]="isAddToCartLoading(idPrefix, 'accessible') ? 'true' : null"
      >
        <div *ngIf="isAddToCartLoading(idPrefix, 'accessible')" class="wcag-loader">
          <span class="wcag-loader__spinner" aria-hidden="true"></span>
          <span>Agregando‚Ä¶</span>
        </div>
        <span
          *ngIf="isAddToCartDone(idPrefix, 'accessible')"
          class="wcag-fade"
          [class.wcag-fade--out]="isAddToCartFading(idPrefix, 'accessible')"
        >
          Agregado.
        </span>
      </div>

      <div class="wcag-example-note">
        <ul>
            <li>Se utiliza <strong>role="status"</strong> + <strong>aria-live</strong> para comunicar el mensaje, luego el mensaje se desvanece y se limpia.</li>
            <li>Mientras, la carga se marca <strong>aria-busy="true"</strong> para indicar que el proceso est√° en curso.</li>
        </ul>
      </div>
  </div>
</ng-template>
